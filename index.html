<!doctype html>
<html>
<head>
  <title>CREPE Interactive Demo</title>
  <link rel="stylesheet" href="crepe.css">
</head>
<body>
  <div id="container">
    <div id="title">Convolutional REpresentation for Pitch Estimation</div>
    <div><canvas id="activation" width="960" height="360"></div>
    <div id="output">
      <br>
      Status: <span id="status"></span><br>
      Estimated Pitch: <span id="estimated-pitch"></span><br>
      Voicing Confidence: <span id="voicing-confidence"></span>
    </div>
    <div id="info">
      <br><br>
      NOTE:
      This demo works most reliably in the latest versions of Chrome on Windows
      and MacOS. There is an issue where TensorFlow.js is not working properly
      on Linux versions of Chrome.
      <br><br>
      A stripped-down model of CREPE is running on this browser,
      which has less than 3 percent of parameters. The performance of
      this online demo therefore may not be as good as reported
      in the <a href="https://arxiv.org/abs/1802.06182">paper</a>,
      and it may make more octave errors than the full model.
      To run the model with the full capacity, check out the Git repo at
      <a href="https://github.com/marl/crepe">https://github.com/marl/crepe</a>
      and follow the instructions in README.md.
      <br><br>
      The model is trained on 16 kHz audio, and due to the imperfect resampling
      in the browser, this demo works best when the hardware sample rate is
      a multiple of 16000 Hz. Your sample rate is <span id="srate"></span> Hz.
      <br><br>
      For further details on this model, please refer to our paper:<br><br>
      &nbsp; &nbsp; <a href="https://arxiv.org/abs/1802.06182">
      CREPE: A Convolutional Representation for Pitch Estimation</a><br>
      &nbsp; &nbsp; Jong Wook Kim, Justin Salamon, Peter Li, Juan Pablo Bello<br>
      &nbsp; &nbsp; <i>Proceedings of the IEEE Conference on ICASSP, 2018.</i>
      <br><br>
    </div>
  </div>
  <script src="tfjs-0.8.0.min.js"></script>
  <script src="crepe.js"></script>
</body>
</html>
